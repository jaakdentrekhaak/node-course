{"version":3,"sources":["../../../../src/controllers/users/handlers/user.store.ts"],"sourcesContent":["export type User = {\n\tid: number;\n\tname: string;\n\temail: string;\n\tpassword: string;\n};\n\nexport class UserStore {\n\tstatic users: User[] = [];\n\n\tstatic get(id: number): User | undefined {\n\t\treturn this.users.find((user) => user.id === id);\n\t}\n\n\tstatic getByEmail(email: string): User | undefined {\n\t\treturn this.users.find((user) => user.email === email);\n\t}\n\n\tstatic find(search?: string): User[] {\n\t\treturn this.users.filter(\n\t\t\t(user) =>\n\t\t\t\t!search ||\n\t\t\t\tObject.values(user).some((value) =>\n\t\t\t\t\tvalue?.toString().includes(search)\n\t\t\t\t)\n\t\t);\n\t}\n\n\tstatic add(user: Omit<User, \"id\">): User {\n\t\tconst u = { ...user, id: this.users.length };\n\t\tthis.users.push(u);\n\t\treturn u;\n\t}\n\n\tstatic update(id: number, input: User): User {\n\t\tconst current = this.get(id);\n\t\tconst user = { ...current, ...input };\n\t\tthis.users.splice(\n\t\t\tthis.users.findIndex((x) => x === current),\n\t\t\t1,\n\t\t\tuser\n\t\t);\n\t\treturn user;\n\t}\n\n\tstatic delete(id: number) {\n\t\tthis.users.splice(\n\t\t\tthis.users.findIndex((x) => x.id === id),\n\t\t\t1\n\t\t);\n\t}\n}"],"names":["UserStore","users","get","id","find","user","getByEmail","email","search","filter","Object","values","some","value","toString","includes","add","u","length","push","update","input","current","splice","findIndex","x","delete"],"mappings":"AAOA,OAAO,MAAMA;IACZ,OAAOC,QAAgB,EAAE,CAAC;IAE1B,OAAOC,IAAIC,EAAU,EAAoB;QACxC,OAAO,IAAI,CAACF,KAAK,CAACG,IAAI,CAAC,CAACC,OAASA,KAAKF,EAAE,KAAKA;IAC9C;IAEA,OAAOG,WAAWC,KAAa,EAAoB;QAClD,OAAO,IAAI,CAACN,KAAK,CAACG,IAAI,CAAC,CAACC,OAASA,KAAKE,KAAK,KAAKA;IACjD;IAEA,OAAOH,KAAKI,MAAe,EAAU;QACpC,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM,CACvB,CAACJ,OACA,CAACG,UACDE,OAAOC,MAAM,CAACN,MAAMO,IAAI,CAAC,CAACC,QACzBA,OAAOC,WAAWC,SAASP;IAG/B;IAEA,OAAOQ,IAAIX,IAAsB,EAAQ;QACxC,MAAMY,IAAI;YAAE,GAAGZ,IAAI;YAAEF,IAAI,IAAI,CAACF,KAAK,CAACiB,MAAM;QAAC;QAC3C,IAAI,CAACjB,KAAK,CAACkB,IAAI,CAACF;QAChB,OAAOA;IACR;IAEA,OAAOG,OAAOjB,EAAU,EAAEkB,KAAW,EAAQ;QAC5C,MAAMC,UAAU,IAAI,CAACpB,GAAG,CAACC;QACzB,MAAME,OAAO;YAAE,GAAGiB,OAAO;YAAE,GAAGD,KAAK;QAAC;QACpC,IAAI,CAACpB,KAAK,CAACsB,MAAM,CAChB,IAAI,CAACtB,KAAK,CAACuB,SAAS,CAAC,CAACC,IAAMA,MAAMH,UAClC,GACAjB;QAED,OAAOA;IACR;IAEA,OAAOqB,OAAOvB,EAAU,EAAE;QACzB,IAAI,CAACF,KAAK,CAACsB,MAAM,CAChB,IAAI,CAACtB,KAAK,CAACuB,SAAS,CAAC,CAACC,IAAMA,EAAEtB,EAAE,KAAKA,KACrC;IAEF;AACD"}