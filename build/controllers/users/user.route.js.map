{"version":3,"sources":["../../../src/controllers/users/user.route.ts"],"sourcesContent":["import { NextFunction, Request, Response, Router } from \"express\";\nimport { getList } from \"./handlers/getList.handler.js\"\nimport { create } from \"./handlers/create.handler.js\";\nimport { get } from \"./handlers/get.handler.js\";\nimport { update } from \"./handlers/update.handler.js\";\nimport { deleteUser } from \"./handlers/delete.handler.js\";\n\nconst adminMiddleware = (req: Request, res: Response, next: NextFunction) => {\n\tif (req.header(\"x-auth\") !== \"api-key\") {\n\t\treturn res.status(401).send(\"Unauthorized\");\n\t}\n\tnext();\n};\n\nexport class UserRoute {\n    router: Router;\n    path: String;\n    constructor() {\n        this.router = Router();\n        this.path = \"users\";\n        \n        this.router.get(\"/\", getList);\n        this.router.post(\"/\", adminMiddleware, create);\n        this.router.get(\"/:id\", get);\n        this.router.patch(\"/:id\", update);\n        this.router.delete(\"/:id\", deleteUser);\n    }\n}\n"],"names":["Router","getList","create","get","update","deleteUser","adminMiddleware","req","res","next","header","status","send","UserRoute","router","path","constructor","post","patch","delete"],"mappings":"AAAA,SAA0CA,MAAM,QAAQ,UAAU;AAClE,SAASC,OAAO,QAAQ,gCAA+B;AACvD,SAASC,MAAM,QAAQ,+BAA+B;AACtD,SAASC,GAAG,QAAQ,4BAA4B;AAChD,SAASC,MAAM,QAAQ,+BAA+B;AACtD,SAASC,UAAU,QAAQ,+BAA+B;AAE1D,MAAMC,kBAAkB,CAACC,KAAcC,KAAeC;IACrD,IAAIF,IAAIG,MAAM,CAAC,cAAc,WAAW;QACvC,OAAOF,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;IAC7B;IACAH;AACD;AAEA,OAAO,MAAMI;IACTC,OAAe;IACfC,KAAa;IACbC,aAAc;QACV,IAAI,CAACF,MAAM,GAAGd;QACd,IAAI,CAACe,IAAI,GAAG;QAEZ,IAAI,CAACD,MAAM,CAACX,GAAG,CAAC,KAAKF;QACrB,IAAI,CAACa,MAAM,CAACG,IAAI,CAAC,KAAKX,iBAAiBJ;QACvC,IAAI,CAACY,MAAM,CAACX,GAAG,CAAC,QAAQA;QACxB,IAAI,CAACW,MAAM,CAACI,KAAK,CAAC,QAAQd;QAC1B,IAAI,CAACU,MAAM,CAACK,MAAM,CAAC,QAAQd;IAC/B;AACJ"}