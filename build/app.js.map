{"version":3,"sources":["../src/app.ts"],"sourcesContent":["import express, { Application, NextFunction, Request, Response } from \"express\";\nimport { UserRoute } from \"./controllers/users/user.route.js\";\n\nexport class App {\n  host: Application;\n  constructor() {\n    // init server\n    this.host = express();\n    this.host.use(express.json());\n\n    this.host.use((req: Request, res: Response, next: NextFunction) => {\n      console.log(req.method, req.url);\n      next();\n    });\n\n    this.host.get(\"/\", (req: Request, res: Response, next: NextFunction) => {\n      res.send(\"Hello World!\");\n    });\n\n    const usersRoute = new UserRoute();\n    this.host.use(`/api/${usersRoute.path}`, usersRoute.router);\n\n    this.host.use((req: Request, res: Response, next: NextFunction) => {\n      res.status(404).send(\"No Endpoint found\");\n    });\n\n    // Previous middleware will be skipped if we call `next` with an extra parameter\n    this.host.use((error, req, res, next) => {\n      res.status(400).json(error);\n    });\n  }\n\n  listen() {\n    this.host.listen(3000, () => {\n      console.info(`ðŸš€ http://localhost:3000`);\n      console.info(`========================`);\n    });\n  }\n}\n"],"names":["express","UserRoute","App","host","constructor","use","json","req","res","next","console","log","method","url","get","send","usersRoute","path","router","status","error","listen","info"],"mappings":"AAAA,OAAOA,aAA+D,UAAU;AAChF,SAASC,SAAS,QAAQ,oCAAoC;AAE9D,OAAO,MAAMC;IACXC,KAAkB;IAClBC,aAAc;QACZ,cAAc;QACd,IAAI,CAACD,IAAI,GAAGH;QACZ,IAAI,CAACG,IAAI,CAACE,GAAG,CAACL,QAAQM,IAAI;QAE1B,IAAI,CAACH,IAAI,CAACE,GAAG,CAAC,CAACE,KAAcC,KAAeC;YAC1CC,QAAQC,GAAG,CAACJ,IAAIK,MAAM,EAAEL,IAAIM,GAAG;YAC/BJ;QACF;QAEA,IAAI,CAACN,IAAI,CAACW,GAAG,CAAC,KAAK,CAACP,KAAcC,KAAeC;YAC/CD,IAAIO,IAAI,CAAC;QACX;QAEA,MAAMC,aAAa,IAAIf;QACvB,IAAI,CAACE,IAAI,CAACE,GAAG,CAAC,CAAC,KAAK,EAAEW,WAAWC,IAAI,CAAC,CAAC,EAAED,WAAWE,MAAM;QAE1D,IAAI,CAACf,IAAI,CAACE,GAAG,CAAC,CAACE,KAAcC,KAAeC;YAC1CD,IAAIW,MAAM,CAAC,KAAKJ,IAAI,CAAC;QACvB;QAEA,gFAAgF;QAChF,IAAI,CAACZ,IAAI,CAACE,GAAG,CAAC,CAACe,OAAOb,KAAKC,KAAKC;YAC9BD,IAAIW,MAAM,CAAC,KAAKb,IAAI,CAACc;QACvB;IACF;IAEAC,SAAS;QACP,IAAI,CAAClB,IAAI,CAACkB,MAAM,CAAC,MAAM;YACrBX,QAAQY,IAAI,CAAC,CAAC,wBAAwB,CAAC;YACvCZ,QAAQY,IAAI,CAAC,CAAC,wBAAwB,CAAC;QACzC;IACF;AACF"}